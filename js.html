<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      table {
        width: 600px;
        margin: 150px auto;
        border-collapse: collapse;
        text-align: center;
      }
      table,
      td {
        border: 1px solid black;
        height: 40px;
      }
      a {
        text-decoration: none;
        color: red;
      }
      div {
        width: 600px;
        text-align: center;
        margin: -80px auto;
      }
    </style>
  </head>
  <body>
    <!-- <form action="">
      <label for="checkbox"> 全选 </label>
      <input type="checkbox" name="" id="checkbox" />
      <br />
      <label for=""> 孙悟空 </label>
      <input type="checkbox" name="hobby" id="" />
      <label for=""> 猪八戒 </label>
      <input type="checkbox" name="hobby" id="" />
      <label for=""> 沙和尚 </label>
      <input type="checkbox" name="hobby" id="" />
      <br />
      <button type="button" id="all">全选</button>
      <button type="button" id="reverse">反选</button>
      <button type="button" id="no">全不选</button>
    </form> -->
    <table>
      <thead>
        <tr>
          <td>名字</td>
          <td>账号</td>
          <td>操作</td>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>孙悟空</td>
          <td>1468888</td>
          <td><a href="#">删除</a></td>
        </tr>
        <tr>
          <td>名字</td>
          <td>845977</td>
          <td><a href="#">删除</a></td>
        </tr>
      </tbody>
    </table>
    <div>
      名字:<input type="text" name="names" id="" /><br />
      账号:<input type="text" name="pass" id="" /><br />
      <button type="button">添加</button>
    </div>
    <script>
      // const checkbox = document.getElementById("checkbox");
      // const all = document.querySelector("#all");
      // const reverse = document.querySelector("#reverse");
      // const no = document.querySelector("#no");
      // const hobby = document.getElementsByName("hobby");
      // all.onclick = () => {
      //   for (let item of hobby) {
      //     item.checked = true;
      //   }
      //   checkbox.checked = true;
      // };
      // reverse.onclick = () => {
      //   for (let item of hobby) {
      //     item.checked = !item.checked;
      //   }
      //   if ([...hobby].every((item) => item.checked)) {
      //     checkbox.checked = true;
      //   } else {
      //     checkbox.checked = false;
      //   }
      // };
      // no.onclick = () => {
      //   for (let item of hobby) {
      //     item.checked = false;
      //   }
      //   checkbox.checked = false;
      // };
      // checkbox.onclick = () => {
      //   for (let item of hobby) {
      //     item.checked = checkbox.checked;
      //   }
      // };
      function deleteHandl(event) {
        event.preventDefault();
        this.parentNode.parentNode.remove();
      }
      const a = document.querySelectorAll("tr td a");
      const name = document.querySelector("input[name='names']");
      const pass = document.querySelector("input[name='pass']");
      const button = document.querySelector("button");
      const tbody = document.querySelector("tbody");
      for (let item of a) {
        item.onclick = deleteHandl;
      }
      button.onclick = () => {
        const tr = document.createElement("tr");
        const td1 = document.createElement("td");
        const td2 = document.createElement("td");
        td1.textContent = name.value;
        td2.textContent = pass.value;
        tr.appendChild(td1);
        tr.appendChild(td2);
        tr.insertAdjacentHTML(
          "beforeend",
          `<td><a href="javascipt:;">删除</a></td>`
        );
        tbody.insertAdjacentElement("beforeend", tr);
        const a = document.querySelectorAll("tr td a");
        console.log(a);
        a[a.length - 1].onclick = deleteHandl;
      };
    </script>
  </body>
</html>
